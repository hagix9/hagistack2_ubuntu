[DEFAULT]
core_plugin = neutron.plugins.ml2.plugin.Ml2Plugin
service_plugins = neutron.services.l3_router.l3_router_plugin.L3RouterPlugin
auth_strategy = keystone
dhcp_agent_notification = True
rpc_backend = neutron.openstack.common.rpc.impl_kombu
control_exchange = neutron

# LOGS
debug={{ log_debug }}
verbose={{ log_verbose }}
state_path = /var/lib/neutron
lock_path = $state_path/lock

# RABBITMQ
rabbit_port = 5672
rabbit_host = {{ controller_int_ip }}
rabbit_hosts = {{ controller_int_ip }}:5672
rabbit_virtual_host = /neutron
rabbit_userid = {{ nova_mq_user }}
rabbit_password = {{ nova_mq_password }}
rabbit_userid = neutron

# NOTIFICATION
notification_driver = neutron.openstack.common.notifier.rpc_notifier
notify_nova_on_port_status_changes = True
notify_nova_on_port_data_changes = True

# NOVA
nova_url = http://{{ controller_int_ip }}:8774/v2
nova_region_name = RegionOne
nova_admin_username = nova
nova_admin_tenant_id = xxxx
nova_admin_password = {{ neutron_keystone_password }}
nova_admin_auth_url = http://{{ controller_int_ip }}:35357/v2.0

[agent]
root_helper = sudo /usr/bin/neutron-rootwrap /etc/neutron/rootwrap.conf

[keystone_authtoken]
auth_host={{ controller_int_ip }}
auth_port=35357
auth_protocol=http
admin_tenant_name=service
admin_user=nova
admin_password={{ neutron_keystone_password }}
signing_dir = $state_path/keystone-signing

[database]
connection=mysql://neutron:{{ mysql_neutron_password }}@{{ controller_int_ip }}/neutron

[service_providers]
service_plugins = neutron.services.l3_router.l3_router_plugin.L3RouterPlugin
service_provider=LOADBALANCER:Haproxy:neutron.services.loadbalancer.drivers.haproxy.plugin_driver.HaproxyOnHostPluginDriver:default
service_provider=VPN:openswan:neutron.services.vpn.service_drivers.ipsec.IPsecVPNDriver:default
